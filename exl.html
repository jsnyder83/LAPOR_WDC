<html>
<head>
    <title>LAPOR! Tableau Web Data Connector</title>
    <meta http-equiv="Cache-Control" content="no-store" />

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js" type="text/javascript"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/2.1.3/js.cookie.min.js" type="text/javascript"></script>
    <script src="https://connectors.tableau.com/libs/tableauwdc-2.2.latest.js" type="text/javascript"></script>
    <script src="exl.js" type="text/javascript"></script>
</head>

<body>
    <div class="container">
    <div class="row">
    <h1>LAPOR! Tableau Web Data Connector</h1>
    <form class="form-horizontal">
        <div class="form-group">
            <label for="txtApiKey" class="control-label col-xs-2">LAPOR! API Token</label>
            <div class="col-xs-10">
                <input type="text" class="form-control" id="txtApiKey" placeholder="e.g. {11111111-2222-3333-4444-555555555555}">
            </div>
        </div>
        <div class="form-group">
            <div class="col-xs-offset-2 col-xs-10">
                <div class="checkbox">
                    <label><input type="checkbox" id="chkRemember" checked="true"> Remember token</label>
                </div>
            </div>
        </div>        
        <div id="reportUrl">
        <div class="form-group">
            <label for="txtReportPath" class="control-label col-xs-2">Datasets</label>
            <div class="col-xs-10">
                <select id="txtReportPath" class="form-control">
                    <option value="gettopics">LAPOR! Topics</option>
                    <option value="getunit">LAPOR! Units</option>
					<option value="getuarea">LAPOR! Areas</option>
					<option value="streams">LAPOR! Complaints</option>
					<option value="statistik">LAPOR! Statistics</option>
                </select>
			</div>
        </div>
        <div class="form-group">
            <label for="selectEndpoint" class="control-label col-xs-2">LAPOR! Data Set</label>
            <div class="col-xs-10">
                <select id="selectEndpoint" class="form-control">
                    <option value="https://www.lapor.go.id/api/services/f01/">LAPOR! Reference Data (Topics, Units, Areas, Reports, Statistics) </option>
                    <option value="https://www.lapor.go.id/api/services/f02/">LAPOR! Report Details</option>								
                </select>
            </div>
        </div>
        <div class="form-group">
            <label for="selectMaxRows" class="control-label col-xs-2">Max number of rows</label>
            <div class="col-xs-10">
                <select id="selectMaxRows" class="form-control">
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                    <option value="250">250</option>
                    <option value="500" selected>500</option>
                    <option value="1000">1000</option>
                    <option value="2000">2000</option>
                    <option value="5000">5000</option>
                    <option value="10000">10000</option>
                    <option value="25000">25000</option>
                    <option value="50000">50000</option>                    
                </select>
            </div>
        </div>        
        </div>
        <div class="form-group">
            <div class="col-xs-offset-2 col-xs-10">
                <button type="button" id="submitButton" class="btn btn-primary">Get data</button>
            </div>
        </div>
    </form>
    </div>
    </div>
</body>
</html>

